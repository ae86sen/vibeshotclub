# Vibe Shot Club 系统设计文档

## 1. 项目简介

### 我们要做什么？

**Vibe Shot Club** 是一个面向 AIGC 创作者的付费会员平台，提供两大核心功能：

1. **提示词库** - 收录和展示优质的 AI 图片生成 Prompt
2. **知识库** - 社群教程、文档和创作经验分享

### 核心定位

- 这是一个**付费会员制**平台
- 只有付费会员才能完整使用提示词库和知识库
- 鼓励创作者贡献内容，通过积分系统给予激励

### 为什么要做这个？

- 让社群成员可以方便地浏览和学习优秀的 Prompt
- 提供一个统一的知识沉淀平台
- 通过会员制实现可持续运营
- 通过积分激励优质内容产出

---

## 2. 用户体系设计

### 2.1 用户类型

| 用户类型 | 说明 | 权限 |
|----------|------|------|
| **游客** | 未登录用户 | 只能看首页和部分预览内容 |
| **付费会员** | 付费订阅的用户 | 完整访问提示词库和知识库 |
| **Creator（创作者）** | 贡献内容的会员 | 会员权限 + 可以上传作品赚积分 |
| **管理员** | 运营人员 | 后台管理所有内容 |

### 2.2 会员等级体系（Level Up）

> 让用户有成长感，鼓励持续活跃

| 等级 | 名称 | 升级条件 | 特权 |
|------|------|----------|------|
| Lv.1 | 新手 | 注册即获得 | 基础访问权限 |
| Lv.2 | 进阶 | 累计积分 100 | 解锁高级提示词 |
| Lv.3 | 达人 | 累计积分 500 | 解锁全部内容 + 专属标识 |
| Lv.4 | 大师 | 累计积分 2000 | 优先展示作品 + 专属福利 |
| Lv.5 | 传奇 | 累计积分 5000 | 荣誉殿堂 + 实物奖励资格 |

### 2.3 积分系统

> 鼓励用户贡献优质原创内容

**获取积分：**

| 行为 | 积分 | 说明 |
|------|------|------|
| 上传原创作品 | +10 | 审核通过后发放 |
| 作品被精选 | +50 | 管理员精选优质作品 |
| 作品被收藏 | +2 | 每被收藏一次 |
| 每日签到 | +1 | 连续签到有额外奖励 |
| 邀请新会员 | +20 | 被邀请人付费后发放 |

**积分用途：**

| 用途 | 消耗积分 | 说明 |
|------|----------|------|
| 兑换实物周边 | 待定 | 社群定制周边 |
| 兑换专属权益 | 待定 | 如私人指导等 |

---

## 3. 提示词来源渠道

> 提示词从哪里来？有两个主要渠道

### 3.1 渠道一：社群分享（微信机器人「古小一」）

**流程：**
```
社群成员在微信群分享作品 → 古小一自动抓取 → 进入待审核队列 → 管理员审核 → 发布
```

**说明：**
- 这是**主要来源**，收录社群成员的原创作品
- 微信机器人「古小一」已在运行中 ✅
- 目前缺少服务端接收逻辑，需要开发 API 对接
- 抓取图片和文字（Prompt）
- 需要人工审核后才会发布

**技术实现：**
- 古小一监听群消息（已运行）
- 开发 `/api/bot/submit` 接口接收古小一推送的数据
- 后台显示待审核列表

### 3.2 渠道二：推特优质内容（X/Twitter）

**流程：**
```
管理员提交推特链接 → 系统自动抓取图片和文字 → 人工审核 → 发布
```

**说明：**
- 这是**补充来源**，收录推特上的优质 Prompt
- 需要调用 Twitter API（有成本，约 $100/月）
- 第一阶段先留接口，暂不实现

**技术实现：**
- 后台提供「从推特导入」功能
- 输入推特链接，自动解析图片和文字
- 支持批量导入

### 3.3 来源标识

> 在前端展示时，会标注提示词的来源

| 来源 | 标识 | 说明 |
|------|------|------|
| 社群分享 | 🏠 社群原创 | 来自微信社群的作品 |
| 推特 | 🐦 X/Twitter | 来自推特的优质内容 |
| 手动录入 | ✍️ 精选 | 管理员手动添加的内容 |

### 3.4 标签系统设计

> 从第一阶段就设计好标签，方便后续归类和搜索

**标签类型：**

| 类型 | 示例 | 说明 |
|------|------|------|
| 风格标签 | 赛博朋克、写实、动漫、油画 | 描述画面风格 |
| 主题标签 | 人像、风景、建筑、科幻 | 描述画面内容 |
| 工具标签 | Midjourney、DALL-E、Stable Diffusion、Nano Banana Pro | 生成工具 |
| 质量标签 | 精选、热门 | 运营标记 |

**设计要点：**
- 一个作品可以有多个标签（多对多关系）
- 标签由管理员统一管理，避免重复和混乱
- 前端支持按标签筛选作品
- 数据库预留标签表，第一阶段就建好

---

## 4. 功能规划

### 4.1 第一阶段：提示词收录（最高优先级）

> 先把核心功能跑通

| 功能 | 说明 | 重要程度 |
|------|------|----------|
| ✅ 手动录入作品 | 管理员在后台添加社群成员的作品和提示词 | 必须做 |
| ✅ 编辑/删除作品 | 可以修改或删除已有的作品 | 必须做 |
| ✅ 排序/置顶 | 可以调整展示顺序，精选作品置顶 | 必须做 |
| ✅ 图片上传压缩 | 上传图片时自动压缩，节省流量 | 必须做 |
| ✅ 标签系统 | 给作品打标签，方便归类和筛选 | 必须做 |
| ✅ Gallery 展示 | 瀑布流展示真实数据 | 必须做 |
| ✅ 后台管理系统 | 密码保护的管理后台 | 必须做 |
| ⭕ 古小一对接 | 开发 API 接收古小一推送的作品 | 机器人已运行 |
| ⭕ X/Twitter 爬取 | 预留接口，自动抓取优质 Prompt | 先留接口 |
| ⭕ 首页广告栏 | 展示社群公告或广告 | 尽量做 |

### 4.2 第二阶段：会员登录 + 知识库

| 功能 | 说明 |
|------|------|
| 🔮 会员登录系统 | 微信登录 / 手机登录 |
| 🔮 付费订阅 | 接入支付，开通会员 |
| 🔮 权限控制 | 非会员只能看预览，会员看完整内容 |
| 🔮 知识库系统 | 文章/教程的管理和展示 |
| 🔮 内容分类 | 按标签、类型组织内容 |

### 4.3 第三阶段：积分与成长

| 功能 | 说明 |
|------|------|
| 🔮 积分系统 | 积分获取、消耗、记录 |
| 🔮 等级系统 | 用户等级、升级、特权 |
| 🔮 创作者中心 | Creator 上传作品、查看收益 |
| 🔮 积分商城 | 积分兑换奖励 |

### 4.4 未来规划（优先级较低）

| 功能 | 说明 |
|------|------|
| 🔮 搜索功能 | 支持搜索作者名、提示词内容、标签 |
| 🔮 创作者排行榜 | 按作品数、被收藏数、积分等维度排名 |
| 🔮 积分排行榜 | 积分榜、贡献榜 |

---

## 5. 系统架构图

```
                        用户访问网站
                             │
                             ▼
┌────────────────────────────────────────────────────────┐
│                      Vercel 服务器                      │
│  ┌──────────────────────────────────────────────────┐  │
│  │                  Next.js 应用                     │  │
│  │                                                   │  │
│  │   用户端                      后台管理端            │  │
│  │   ──────                      ──────────          │  │
│  │   • 首页                      • 登录页             │  │
│  │   • 提示词库                  • 提示词管理          │  │
│  │   • 知识库（第二阶段）         • 知识库管理          │  │
│  │   • 个人中心（第二阶段）       • 用户管理            │  │
│  │   • 创作者中心（第三阶段）     • 积分管理            │  │
│  │                                                   │  │
│  │   ─────────────────────────────────────────────── │  │
│  │                   API 接口层                       │  │
│  │   • /api/prompts    (提示词增删改查)               │  │
│  │   • /api/articles   (知识库文章)                  │  │
│  │   • /api/users      (用户管理)                    │  │
│  │   • /api/points     (积分系统)                    │  │
│  │   • /api/upload     (图片上传)                    │  │
│  │   • /api/auth       (登录认证)                    │  │
│  └──────────────────────────────────────────────────┘  │
└────────────────────────────────────────────────────────┘
                    │                │
                    ▼                ▼
        ┌───────────────┐    ┌───────────────┐
        │   Supabase    │    │ Cloudflare R2 │
        │   云数据库     │    │   图片存储    │
        │               │    │               │
        │  • 提示词信息 │    │  • 原图       │
        │  • 知识库文章 │    │  • 缩略图     │
        │  • 用户信息   │    │               │
        │  • 积分记录   │    │               │
        │  • 会员订阅   │    │               │
        │               │    │               │
        │  免费 500MB   │    │  免费 10GB/月 │
        └───────────────┘    └───────────────┘
```

---

## 6. 成本预估

### 第一阶段：**完全免费** 🎉

| 服务 | 免费额度 | 我们预计用多少 | 费用 |
|------|----------|----------------|------|
| Supabase 数据库 | 500MB | 约 10MB | $0 |
| Cloudflare R2 存储 | 10GB | 约 2GB | $0 |
| Cloudflare R2 流量 | 无限免费出站 | - | $0 |
| Vercel 托管 | 100GB/月 带宽 | 约 10GB/月 | $20 |

### 业务增长后的费用预估

> 当用户量和内容增长后，预计会产生以下费用

| 服务 | 免费额度 | 超出后价格 | 预估场景 |
|------|----------|------------|----------|
| **Supabase** | 500MB 数据库 | $25/月 (Pro 版) | 数据超 500MB 或需要更多连接数 |
| **Cloudflare R2** | 10GB 存储 | $0.015/GB/月 | 存储 50GB ≈ $0.6/月 |
| **Cloudflare R2** | 100 万次 A 类操作 | $4.50/百万次 | 上传操作，一般用不到 |
| **Cloudflare R2** | 1000 万次 B 类操作 | $0.36/百万次 | 读取操作，一般用不到 |
| **Vercel** | 100GB 带宽 | $20/月/人 (Pro 版) | 团队协作，一般一个人开就行 |

### 成本估算示例

| 阶段 | 内容量 | 月访问量 | 预估月成本 |
|------|--------|----------|------------|
| 起步期 | 500 张图 (~5GB) | 1000 人 | **$0** |
| 成长期 | 2000 张图 (~20GB) | 5000 人 | **$0** (仍在免费额度内) |
| 稳定期 | 5000 张图 (~50GB) | 2 万人 | **~$25/月** (Supabase Pro) |
| 规模期 | 1 万张图 (~100GB) | 5 万人 | **~$46/月** (Supabase $25 + Vercel $20 + R2 $1) |

### 其他可能的费用

| 服务 | 费用 | 说明 |
|------|------|------|
| 微信登录 | 免费 | 需要企业资质申请 |
| 短信验证码 | ~0.05 元/条 | 如果用手机登录 |
| 支付手续费 | ~0.6% | 微信/支付宝收款 |
| Twitter API | ~$200/月 | 如果开启自动爬取 |

---

## 7. 开发计划

### 第一阶段任务清单（当前）

| 序号 | 任务 | 说明 |
|------|------|------|
| 1 | 配置 Supabase | 注册账号、创建数据库、建表 |
| 2 | 配置 Cloudflare R2 | 创建存储桶、配置访问权限 |
| 3 | 图片上传功能 | 上传 → 压缩 → 存到 R2 |
| 4 | 提示词管理接口 | 增、删、改、查 |
| 5 | 后台登录页 | 密码验证 |
| 6 | 后台布局 | 侧边栏 + 顶部导航 |
| 7 | 提示词管理页 | 列表 + 搜索 + 分页 |
| 8 | 新增/编辑提示词页 | 表单 + 图片上传 |
| 9 | 提示词排序功能 | 拖拽排序 |
| 10 | 改造首页 | 加上广告栏 |
| 11 | 改造画廊 | 对接真实数据 |
| 12 | 作品详情弹窗 | 大图 + Prompt + 复制按钮 |
| 13 | X/Twitter 爬取接口 | 预留接口（暂不实现爬取逻辑）|

### 第二阶段任务清单

| 序号 | 任务 | 说明 |
|------|------|------|
| 1 | 用户表设计 | 存储用户信息、会员状态 |
| 2 | 微信登录 | 对接微信开放平台 |
| 3 | 会员订阅 | 对接支付、开通会员 |
| 4 | 权限控制 | 区分游客和会员的访问权限 |
| 5 | 知识库数据表 | 文章、分类、标签 |
| 6 | 知识库后台 | 文章管理 |
| 7 | 知识库前台 | 文章列表、详情页 |

### 第三阶段任务清单

| 序号 | 任务 | 说明 |
|------|------|------|
| 1 | 积分表设计 | 积分余额、积分流水 |
| 2 | 积分获取逻辑 | 上传、精选、收藏等行为加积分 |
| 3 | 等级系统 | 等级计算、升级通知 |
| 4 | 创作者中心 | Creator 上传作品入口 |
| 5 | 作品审核流程 | 管理员审核 Creator 提交的作品 |
| 6 | 积分商城 | 积分兑换商品/权益 |
| 7 | 排行榜 | 积分榜、贡献榜 |

---

## 8. 后续扩展

### 8.1 X/Twitter 自动爬取

**流程：**
```
提交推特链接 → 后台自动抓取图片和文字 → 人工审核 → 发布
```

**注意：** Twitter API 是收费的（约 $100/月），先留好接口，等成本可控再开启。

### 8.2 用户登录系统

**方案选择：**
- **微信登录**（推荐）- 方便验证社群身份，需要企业资质
- **手机登录** - 备选方案，需要短信服务

### 8.3 内容变现

**可能的变现方式：**
- 会员订阅（主要）
- 单篇付费（可选）
- 广告收入（可选）
- 积分商城佣金（可选）

---

## 9. 常见问题

### Q: 图片会不会加载很慢？
**A:** 不会。我们会把 4K 大图自动压缩成小缩略图（800px 宽），在列表页只加载缩略图，点进去才加载原图。

### Q: 数据会不会丢失？
**A:** Supabase 会自动备份数据，不用担心丢失。

### Q: 后台会不会被人乱进？
**A:** 后台有密码保护，只有知道密码的人才能进入。

### Q: 以后想换技术栈怎么办？
**A:** 数据都存在标准的数据库里，随时可以导出迁移。

### Q: Creator 上传的内容怎么审核？
**A:** Creator 提交作品后，进入待审核状态，管理员在后台审核通过后才会发布，审核通过后自动发放积分。

### Q: 积分会不会被刷？
**A:** 会有防刷机制：
- 每日获取积分有上限
- 同一作品只能被同一用户收藏一次
- 异常行为会触发人工审核

---

## 10. 技术栈介绍

> 「技术栈」就是我们用来搭建这个网站的各种工具和服务。

### 前端（用户看到的页面）

| 技术 | 是什么 | 为什么用它 |
|------|--------|------------|
| **Next.js** | 做网站的框架 | 最流行的框架，前后端一体化 |
| **TypeScript** | JavaScript 升级版 | 代码更不容易出错 |
| **Tailwind CSS** | 写样式的工具 | 开发速度快 |
| **Framer Motion** | 做动画的库 | 让页面有酷炫效果 |

### 后端（数据处理和存储）

| 技术 | 是什么 | 为什么用它 |
|------|--------|------------|
| **Next.js API** | 后端接口 | 不用单独搭后端 |
| **Supabase** | 云数据库 | 免费够用，自带用户系统 |
| **Cloudflare R2** | 图片存储 | 免费 10GB，速度快 |

### 部署

| 技术 | 是什么 | 为什么用它 |
|------|--------|------------|
| **Vercel** | 网站托管 | 推代码自动上线 |

---
